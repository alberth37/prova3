<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: content">
<div class="row mt-3">
  <div class="col-8">
    <div class="card p-3">
      <h5 th:text="${reserva.id} == null ? 'Nova Reserva' : 'Editar Reserva'">Nova Reserva</h5>
      <form th:action="@{/reservas/salvar}" th:object="${reserva}" method="post">
        <input type="hidden" th:field="*{id}"/>
        <div class="mb-3">
          <label class="form-label">Data Entrada</label>
          <input type="date" class="form-control" th:field="*{dataEntrada}" />
          <div class="text-danger" th:if="${#fields.hasErrors('dataEntrada')}" th:errors="*{dataEntrada}"></div>
        </div>
        <div class="mb-3">
          <label class="form-label">Data Saída</label>
          <input type="date" class="form-control" th:field="*{dataSaida}" />
          <div class="text-danger" th:if="${#fields.hasErrors('dataSaida')}" th:errors="*{dataSaida}"></div>
        </div>
        <div class="mb-3">
          <label class="form-label">Nome do Hóspede</label>
          <input class="form-control" th:field="*{nomeHospede}" />
          <div class="text-danger" th:if="${#fields.hasErrors('nomeHospede')}" th:errors="*{nomeHospede}"></div>
        </div>
        <div class="mb-3">
          <label class="form-label">Quarto</label>
          <select class="form-select" th:field="*{quarto.id}">
            <option th:each="q : ${quartos}" th:value="${q.id}" th:text="${q.numeroQuarto}"></option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Status</label>
          <select class="form-select" th:field="*{status}">
            <option th:each="s : ${statusOptions}" th:value="${s}" th:text="${s}"></option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Número de Pessoas</label>
          <input class="form-control" type="number" th:field="*{numeroPessoas}" min="1" />
        </div>
        <div class="text-danger" th:if="${#fields.hasGlobalErrors()}" th:each="e : ${#fields.globalErrors()}" th:text="${e}"></div>
        <button class="btn btn-primary">Salvar</button>
        <a class="btn btn-secondary" th:href="@{/reservas}">Cancelar</a>
      </form>
    </div>
  </div>
</div>
</html>
